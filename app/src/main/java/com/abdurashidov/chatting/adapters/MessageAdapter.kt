package com.abdurashidov.chatting.adaptersimport android.view.LayoutInflaterimport android.view.ViewGroupimport androidx.recyclerview.widget.RecyclerViewimport androidx.recyclerview.widget.RecyclerView.ViewHolderimport com.abdurashidov.chatting.databinding.ItemFromBindingimport com.abdurashidov.chatting.databinding.ItemToBindingimport com.abdurashidov.chatting.models.Messageclass MessageAdapter(val list: List<Message>, val uid:String):RecyclerView.Adapter<RecyclerView.ViewHolder>() {    inner class FromVh(val itemFromBinding: ItemFromBinding):RecyclerView.ViewHolder(itemFromBinding.root){        fun onBind(message: Message){            itemFromBinding.messageTv.text=message.message            itemFromBinding.dateTv.text=message.date        }    }    inner class ToVh(val itemToBinding: ItemToBinding):RecyclerView.ViewHolder(itemToBinding.root){        fun onBind(message: Message){            itemToBinding.messageTv.text=message.message            itemToBinding.dateTv.text=message.date        }    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {        if (viewType==1){            return FromVh(ItemFromBinding.inflate(LayoutInflater.from(parent.context), parent, false))        }else{            return ToVh(ItemToBinding.inflate(LayoutInflater.from(parent.context), parent, false))        }    }    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {        if (getItemViewType(position)==1){            val fromVh=holder as FromVh            fromVh.onBind(list[position])        }else{            val toVh=holder as ToVh            toVh.onBind(list[position])        }    }    override fun getItemViewType(position: Int): Int {        if (list[position].fromUid==uid){            return 1        }else{            return 2        }    }    override fun getItemCount(): Int = list.size}